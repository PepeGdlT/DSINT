<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.15) on Thu Jul 13 11:42:09 EDT 2023 -->
<title>MarshallerFactory (KIE :: Internal 7.74.1.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-07-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MarshallerFactory (KIE :: Internal 7.74.1.Final API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarshallerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.74.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.kie.internal.marshalling</a></div>
<h2 title="Class MarshallerFactory" class="title">Class MarshallerFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.kie.internal.marshalling.MarshallerFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">MarshallerFactory</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block"><p>
 The MarshallerFactory is used to marshal and unmarshal StatefulKnowledgeSessions. At the simplest it can be used as follows:
 </p>
 <pre>
 // ksession is the StatefulKnowledgeSession
 // kbase is the KnowledgeBase
 ByteArrayOutputStream baos = new ByteArrayOutputStream();
 Marshaller marshaller = MarshallerFactory.newMarshaller( kbase );
 marshaller.marshall( baos, ksession );
 baos.close();
 </pre>

 <p>
 However with marshalling you need more flexibility when dealing with referenced user data. To achieve this we have the
 ObjectMarshallingStrategy interface. Two implementations are provided, but the user can implement their own. The two
 supplied are IdentityMarshallingStrategy and SerializeMarshallingStrategy. SerializeMarshallingStrategy is the default, as used
 in the example above and it just calls the Serializable or Externalizable methods on a user instance. IdentityMarshallingStrategy
 instead creates an int id for each user object and stores them in a Map the id is written to the stream. When unmarshalling
 it simply looks to the IdentityMarshallingStrategy map to retrieve the instance. This means that if you use the IdentityMarshallingStrategy
 it's stateful for the life of the Marshaller instance and will create ids and keep references to all objects that it attempts to marshal.
 Here is he code to use a IdentityMarshallingStrategy.
 </p>
 <pre>
 ByteArrayOutputStream baos = new ByteArrayOutputStream();
 Marshaller marshaller = MarshallerFactory.newMarshaller( kbase, new ObjectMarshallingStrategy[] { MarshallerFactory.newIdentityMarshallingStrategy() } );
 marshaller.marshall( baos, ksession );
 baos.close();
 </pre>

 <p>
 For added flexability we can't assume that a single strategy is suitable for this we have added the ObjectMarshallingStrategyAcceptor interface that each
 ObjectMarshallingStrategy has. The Marshaller has a chain of strategies and when it attempts to read or write a user object it iterates the strategies asking
 if they accept responsability for marshalling the user object. One one implementation is provided the ClassFilterAcceptor. This allows strings and wild cards
 to be used to match class names. The default is "*.*", so in the above the IdentityMarshallingStrategy is used which has a default "*.*" acceptor.
 </p>

 <p>
 But lets say we want to serialise all classes except for one given package, where we will use identity lookup, we could do the following:
 </p>
 <pre>
 ByteArrayOutputStream baos = new ByteArrayOutputStream();
 ObjectMarshallingStrategyAcceptor identityAceceptor = MarshallerFactory.newClassFilterAcceptor( new String[] { "org.domain.pkg1.*" } );
 ObjectMarshallingStrategy identityStratetgy = MarshallerFactory.newIdentityMarshallingStrategy( identityAceceptor );
 Marshaller marshaller = MarshallerFactory.newMarshaller( kbase, new ObjectMarshallingStrategy[] { identityStratetgy, MarshallerFactory.newSerializeMarshallingStrategy() } );
 marshaller.marshall( baos, ksession );
 baos.close();
 </pre>

 <p>
 Note that the acceptance checking order is in the natural order of the supplied array.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">MarshallerFactory</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newClassFilterAcceptor(java.lang.String%5B%5D)">newClassFilterAcceptor</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;patterns)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static org.kie.api.marshalling.ObjectMarshallingStrategy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newIdentityMarshallingStrategy()">newIdentityMarshallingStrategy</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static org.kie.api.marshalling.ObjectMarshallingStrategy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newIdentityMarshallingStrategy(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor)">newIdentityMarshallingStrategy</a></span>&#8203;(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor&nbsp;acceptor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static org.kie.api.marshalling.Marshaller</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newMarshaller(org.kie.api.KieBase)">newMarshaller</a></span>&#8203;(org.kie.api.KieBase&nbsp;kbase)</code></th>
<td class="colLast">
<div class="block">Default uses the serialise marshalling strategy.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static org.kie.api.marshalling.Marshaller</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newMarshaller(org.kie.api.KieBase,org.kie.api.marshalling.ObjectMarshallingStrategy%5B%5D)">newMarshaller</a></span>&#8203;(org.kie.api.KieBase&nbsp;kbase,
             org.kie.api.marshalling.ObjectMarshallingStrategy[]&nbsp;strategies)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static org.kie.api.marshalling.ObjectMarshallingStrategy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newSerializeMarshallingStrategy()">newSerializeMarshallingStrategy</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static org.kie.api.marshalling.ObjectMarshallingStrategy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newSerializeMarshallingStrategy(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor)">newSerializeMarshallingStrategy</a></span>&#8203;(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor&nbsp;acceptor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MarshallerFactory</h4>
<pre>public&nbsp;MarshallerFactory()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="newClassFilterAcceptor(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newClassFilterAcceptor</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor&nbsp;newClassFilterAcceptor&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>[]&nbsp;patterns)</pre>
</li>
</ul>
<a id="newIdentityMarshallingStrategy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIdentityMarshallingStrategy</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.ObjectMarshallingStrategy&nbsp;newIdentityMarshallingStrategy()</pre>
</li>
</ul>
<a id="newIdentityMarshallingStrategy(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newIdentityMarshallingStrategy</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.ObjectMarshallingStrategy&nbsp;newIdentityMarshallingStrategy&#8203;(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor&nbsp;acceptor)</pre>
</li>
</ul>
<a id="newSerializeMarshallingStrategy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSerializeMarshallingStrategy</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.ObjectMarshallingStrategy&nbsp;newSerializeMarshallingStrategy()</pre>
</li>
</ul>
<a id="newSerializeMarshallingStrategy(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSerializeMarshallingStrategy</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.ObjectMarshallingStrategy&nbsp;newSerializeMarshallingStrategy&#8203;(org.kie.api.marshalling.ObjectMarshallingStrategyAcceptor&nbsp;acceptor)</pre>
</li>
</ul>
<a id="newMarshaller(org.kie.api.KieBase)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newMarshaller</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.Marshaller&nbsp;newMarshaller&#8203;(org.kie.api.KieBase&nbsp;kbase)</pre>
<div class="block">Default uses the serialise marshalling strategy.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a id="newMarshaller(org.kie.api.KieBase,org.kie.api.marshalling.ObjectMarshallingStrategy[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newMarshaller</h4>
<pre class="methodSignature">public static&nbsp;org.kie.api.marshalling.Marshaller&nbsp;newMarshaller&#8203;(org.kie.api.KieBase&nbsp;kbase,
                                                               org.kie.api.marshalling.ObjectMarshallingStrategy[]&nbsp;strategies)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarshallerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.74.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2023 <a href="http://www.jboss.org/">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
