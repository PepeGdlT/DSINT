<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.15) on Thu Jul 13 11:42:09 EDT 2023 -->
<title>StatelessKnowledgeSession (KIE :: Internal 7.74.1.Final API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-07-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StatelessKnowledgeSession (KIE :: Internal 7.74.1.Final API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatelessKnowledgeSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.74.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.kie.internal.runtime</a></div>
<h2 title="Interface StatelessKnowledgeSession" class="title">Interface StatelessKnowledgeSession</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code>org.kie.api.runtime.CommandExecutor</code>, <code>org.kie.api.event.KieRuntimeEventManager</code>, <code>org.kie.api.event.process.ProcessEventManager</code>, <code>org.kie.api.event.rule.RuleRuntimeEventManager</code>, <code>org.kie.api.runtime.StatelessKieSession</code>, <code>org.kie.api.runtime.process.StatelessProcessSession</code>, <code>org.kie.api.runtime.rule.StatelessRuleSession</code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">StatelessKnowledgeSession</span>
extends org.kie.api.runtime.StatelessKieSession</pre>
<div class="block">StatelessKnowledgeSession provides a convenience API, wrapping StatefulKnowledgeSession. It avoids the need to
 call dispose(). Stateless sessions do not support
 iterative invocations, the act of calling execute(...) is a single
 shot method that will internally instantiate a StatefulKnowledgeSession, add all the user data and execute user commands, call fireAllRules, and then
 call dispose(). While the main way to work with this class is via the BatchExecution Command as supported by the CommandExecutor interface,
 two convenience methods are provided for when simple object insertion is all that's required.

 <p>
 Simple example showing a stateless session executing for a given collection of java objects using the convenience api. It will iterate the collection inserting
 each element in turn
 </p>
 <pre>
 KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();
 kbuilder.add( ResourceFactory.newFileSystemResource( fileName ), ResourceType.DRL );
 assertFalse( kbuilder.hasErrors() );
 if (kbuilder.hasErrors() ) {
     System.out.println( kbuilder.getErrors() );
 }
 KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase();
 kbase.addKnowledgePackages( kbuilder.getKnowledgePackages() );

 StatelessKnowledgeSession ksession = kbase.newStatelessKnowledgeSession();
 ksession.execute( collection );
 </pre>

 <p>
 If this was done as a single Command it would be as follows:
 </p>
 <pre>
 ksession.execute( CommandFactory.newInsertElements( collection ) );
 </pre>

 <p>
 Note if you wanted to insert the collection itself, and not the iterate and insert the elements, then CommandFactory.newInsert( collection ) would do the job.
 </p>

 <p>
 The CommandFactory details the supported commands, all of which can be marshalled using XStream and the BatchExecutionHelper. BatchExecutionHelper provides details
 on the XML format as well as how to use Drools Pipeline to automate the marshalling of BatchExecution and ExecutionResults.
 </p>

 <p>
 StatelessKnowledgeSessions support globals, scoped in a number of ways. I'll cover the non-command way first,
 as commands are scoped to a specific execution call. Globals can be resolved in three ways. The StatelessKnowledgeSession
 supports getGlobals(), which returns a Globals instance. These globals are shared for ALL execution calls, so be especially careful of mutable
 globals in these cases - as often execution calls can be executing simultaneously in different threads. Globals also supports a delegate, which
 adds a second way of resolving globals. Calling of setGlobal(String, Object) will actually be set on an internal Collection, identifiers in this internal
 Collection will have priority over supplied delegate, if one is added. If an identifier cannot be found in
 the internal Collection, it will then check the delegate Globals, if one has been set.
 </p>

 <p>Code snippet for setting a session scoped global:</p>
 <pre>
 StatelessKnowledgeSession ksession = kbase.newStatelessKnowledgeSession();
 ksession.setGlobal( "hbnSession", hibernateSession ); // sets a global hibernate session, that can be used for DB interactions in the rules.
 ksession.execute( collection ); // this will now execute and will be able to resolve the "hbnSession" identifier.
 </pre>

 <p>
 The third way is execution scopped globals using the CommandExecutor and SetGlobal Commands:
 </p>

 <pre>
 List&lt;Command&gt; cmds = new ArrayList&lt;Command&gt;();
 cmds.add( CommandFactory.newSetGlobal( "list1", new ArrayList() ) );
 cmds.add( CommandFactory.newInsert( new Person( "jon", 102 ) ) );

 ksession.execute( CommandFactory.newBatchExecution( cmds ) );
 </pre>

 <p>
 The CommandExecutor interface also supports the ability to export data via "out" parameters. Inserted facts, globals and query results can all be returned.
 </p>

 <pre>
 List&lt;Command&gt; cmds = new ArrayList&lt;Command&gt;();
 cmds.add( CommandFactory.newSetGlobal( "list1", new ArrayList(), true ) );
 cmds.add( CommandFactory.newInsert( new Person( "jon", 102 ), "person" ) );
 cmds.add( CommandFactory.newQuery( "Get People" "getPeople" );

 ExecutionResults results = ksession.execute( CommandFactory.newBatchExecution( cmds ) );
 results.getValue( "list1" ); // returns the ArrayList
 results.getValue( "person" ); // returns the inserted fact Person
 results.getValue( "Get People" );// returns the query as a QueryResults instance.
 </pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CommandExecutor</code>, 
<a href="../command/CommandFactory.html" title="class in org.kie.internal.command"><code>CommandFactory</code></a>, 
<code>BatchExecutionCommand</code>, 
<a href="helper/BatchExecutionHelper.html" title="class in org.kie.internal.runtime.helper"><code>BatchExecutionHelper</code></a>, 
<code>Globals</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.runtime.CommandExecutor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.CommandExecutor</h3>
<code>execute</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.event.KieRuntimeEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.KieRuntimeEventManager</h3>
<code>getLogger</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.event.process.ProcessEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.process.ProcessEventManager</h3>
<code>addEventListener, getProcessEventListeners, removeEventListener</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.event.rule.RuleRuntimeEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.rule.RuleRuntimeEventManager</h3>
<code>addEventListener, addEventListener, getAgendaEventListeners, getRuleRuntimeEventListeners, removeEventListener, removeEventListener</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.runtime.StatelessKieSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.StatelessKieSession</h3>
<code>getChannels, getGlobals, getKieBase, registerChannel, setGlobal, unregisterChannel</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.kie.api.runtime.rule.StatelessRuleSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.rule.StatelessRuleSession</h3>
<code>execute, execute</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatelessKnowledgeSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.74.1.Final</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2023 <a href="http://www.jboss.org/">JBoss by Red Hat</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
